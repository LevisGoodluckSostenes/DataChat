{% extends 'base.html' %}
{% block title %}Chat{% endblock %}
{% block content %}
  <h3>Chat with {{ partner.username }}</h3>
  <div class="border rounded p-3 mb-3" style="height: 50vh; overflow-y: auto;">
    {% for m in messages %}
      <div class="mb-2">
        <strong>{{ m.sender.username }}:</strong> {{ m.content }}
        <div class="text-muted small">{{ m.timestamp|date:'M d, Y H:i' }}</div>
      </div>
    {% empty %}
      <p>No messages yet.</p>
    {% endfor %}
  </div>
  <form method="post">
    {% csrf_token %}
    <div class="input-group">
      <input class="form-control" name="content" placeholder="Type a message..." required>
      <button class="btn btn-primary">Send</button>
    </div>
  </form>
{% endblock %}


